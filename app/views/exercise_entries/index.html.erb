<div class="container">
  <div class="row">
    <div class="col-xs-3">
    </div>
    <div class="col-xs-9">
      <%= yield %>
      
      <ul class="nav nav-tabs" role="tablist">
        <li class="active"><%= link_to 'My Exercise Log', exercise_entries_path %> </li>
        <li><%= link_to 'My Exercises', exercises_path %> </li>
      </ul>
      
<Title> Exercise Log Summary | Weight Lifting Pro </Title>
      <h3><%= current_user.fname %>'s Exercise Log Summary</h3>
      
      <div class="table-responsive">
      <table class ="table table-striped table-hover">
  <thead>
    <tr>
      <th>Date</th>
      <th>Name</th>
      <th>Weight</th>
      <th>Reps</th>
      <th>Sets</th>
      <th>Notes</th>
      <th colspan="5"></th>
    </tr>
  </thead>

  <tbody>
    <% @exercise_entries.order(created_at: :desc).each do |exercise_entry| %>
      <tr>
        <td><%= exercise_entry.created_at.strftime("%B %e, %Y") %></td>
        <td><%= exercise_entry.exercise.sample_exercise.name %></td>
        <td><%= exercise_entry.weight %> <%= exercise_entry.measure %> </td>
        <td><%= exercise_entry.reps %></td>
        <td><%= exercise_entry.sets %></td>
        
        <td>
        <% if exercise_entry.notes? %>
            <!-- Button trigger modal -->
            <% if exercise_entry.notes? %>
                <button type="button" class="btn btn-link has-popover" data-toggle="modal" data-toggle="popover"
                        title="Notes" data-target="#exercise-<%= exercise_entry.exercise_id %>-notes" data-content="<%= exercise_entry.notes %>">View Notes</button>
            <% end %>

            <!-- Modal -->
            <div class="myModalWindow">
              <div class="modal fade" id="exercise-<%= exercise_entry.exercise_id  %>-notes" tabindex="-1" role="dialog"
                   aria-labelledby="exercise-<%= exercise_entry.exercise_id  %>-label" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <h4 class="modal-title" id="exercise-<%= exercise_entry.exercise_id  %>-label">Notes</h4>
                    </div>
                    <div class="modal-body">
                      <%= exercise_entry.notes %>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

        <% end %>
        </td>
        <!--<td><= link_to 'Show', exercise_entry, class: 'btn btn-default btn-sm'%></td>-->
        <td> <%= link_to ' Add Log ', new_exercise_entry_path(:exercise_id => exercise_entry.exercise_id), class: 'btn btn-success btn-sm glyphicon
        glyphicon-plus', style: "color: white" %></td>
            <td><%= link_to 'Edit', edit_exercise_entry_path(exercise_entry), class: 'btn btn-info btn-sm', style: "color: white" %></td>
        <td><%= link_to 'Delete', exercise_entry, method: :delete, data: { confirm: 'Are you sure?' },  class: 'btn
        btn-danger btn-sm', style: "color: white" %></td>
        
      </tr>
    <% end %>
  </tbody>
</table>
        </div>

      <%= will_paginate @exercise_entries %>
      <br>
      <br>

      <div class="row">
        <div class="col-xs-3">
          <%= link_to 'My Exercises', exercises_path, style: "color: white", class: 'btn btn-primary' %>
        </div>
        <td> <%= button_to ' Graphs ', {:controller=>"exercise_entries", :action=> "graphs"}, {class:"btn btn-warning"}%> </td>

        
        <div class="col-md-8">
        </div>

        <div class="col-xs-1">
          <%= link_to "Back", :back %>

        </div>
      </div>
      
      
      <br>
      <br>
      <br>  
      <br>
      <br>

    </div>
  </div>
</div>